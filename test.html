<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stacked Cards with GSAP (Vertical)</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f9f9f9;
        }

        .container {
            position: relative;
            width: 300px; /* Adjust width for vertical layout */
            height: 400px;
            overflow: hidden;
        }

        .card {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">Card 1</div>
        <div class="card">Card 2</div>
        <div class="card">Card 3</div>
        <div class="card">Card 4</div>
        <div class="card">Card 5</div>
    </div>

    <script>
        const cards = document.querySelectorAll('.card');
        let currentIndex = 0;

        function updateCards() {
            gsap.to(cards, {
                duration: 0.6,
                ease: 'power2.inOut',
                y: (i, card) => {
                    const offset = i - currentIndex;
                    if (offset === 0) return 0;
                    if (offset === 1) return 40; 
                    if (offset === -1) return -40; 
                    if (offset === 2 || offset === -2) return offset > 0 ? 80 : -80;
                    return offset > 0 ? 100 : -100;
                },
                x: (i, card) => { 
                    const offset = i - currentIndex;
                    if (offset === 0) return 0;
                    if (offset === 1 || offset === -1) return 0; 
                    if (offset === 2 || offset === -2) return 0; 
                    return 0; 
                },
                scale: (i, card) => {
                    const offset = i - currentIndex;
                    if (offset === 0) return 1;
                    if (offset === 1 || offset === -1) return 0.9;
                    if (offset === 2 || offset === -2) return 0.8;
                    return 0.7;
                },
                zIndex: (i, card) => {
                    const offset = i - currentIndex;
                    if (offset === 0) return 10;
                    if (offset === 1 || offset === -1) return 8;
                    if (offset === 2 || offset === -2) return 5;
                    return 1;
                },
                opacity: (i, card) => {
                    const offset = i - currentIndex;
                    if (offset === 0) return 1;
                    if (offset === 1 || offset === -1) return 0.9;
                    if (offset === 2 || offset === -2) return 0.5;
                    return 0;
                },
                stagger: {
                    each: 0.05,
                }
            });
        }

        // Initial card positioning
        updateCards();

        // Event listeners (you can add more for touch events, etc.)
        window.addEventListener('wheel', (event) => {
            if (event.deltaY > 0 && currentIndex < cards.length - 1) {
                currentIndex++;
            } else if (event.deltaY < 0 && currentIndex > 0) {
                currentIndex--;
            }
            updateCards();
        });
    </script>
</body>
</html>